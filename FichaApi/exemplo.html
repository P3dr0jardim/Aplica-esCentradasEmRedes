<!doctype html>
<html>
<head>
    <title>ACR AJAX</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

</head>

<body style="padding: 40px;">

  <ul>
    <li><a href="index.html">Fetch API</a></li>
    <li><a href="vue.html">vue.js + fetch</a></li>
    <li><a href="jquery.html">jQuery AJAX</a></li>
    <li><a href="exercise.html">Exercise</a></li>
    <li><a href="xhr.html">XMLHttpRequest</a></li>
  </ul>

  <div class="container">
    <h3>Fetch Exercise</h3>
    <button id="btn1">list posts</button>
    <button id="btn2">post 1</button>
    <button id="btn3">user 2 todos</button>
    <button id="btn4">Numero de albuns do Utilizador 2</button>
    <button id="btn5">Primeira foro do album com o id 3</button>
    <button id="btn6">ID e title da fotos do album com o id 4</button>
  </div>

  <div id="result">
  </div>

  <script>
    fetch('https://jsonplaceholder.typicode.com/posts/1', {
    method: 'PUT',
    body: JSON.stringify({
      id: 1,
      title: 'foo',
      body: 'bar',
      userId: 1
    }),
    headers: {
      "Content-type": "application/json; charset=UTF-8"
    }
  })
  .then(response => response.json())
  .then(json => console.log(json));

  fetch('https://jsonplaceholder.typicode.com/posts/2', {
    method: 'PUT',
    body: JSON.stringify({
      id: 2,
      title: 'Goo',
      body: 'Gar',
      userId: 2
    }),
    headers: {
      "Content-type": "application/json; charset=UTF-8"
    }
  })
  .then(response => response.json())
  .then(json => console.log(json));


  fetch('https://jsonplaceholder.typicode.com/posts/3', {
    method: 'PUT',
    body: JSON.stringify({
      id: 3,
      title: 'oo',
      body: 'ar',
      userId: 3
    }),
    headers: {
      "Content-type": "application/json; charset=UTF-8"
    }
  })
  .then(response => response.json())
  .then(json => console.log(json));

  $('#btn1').click(function(result){
      fetch('https://jsonplaceholder.typicode.com/posts/')
  .then(response => response.json())
  .then(json => console.log(json))
    });


    $('#btn2').click(function(result){
      fetch('https://jsonplaceholder.typicode.com/posts?userId=1')
  .then(response => response.json())
  .then(json => console.log(json))
    });

    $('#btn3').click(function(result){
      fetch('https://jsonplaceholder.typicode.com/todos?userId=2')
  .then(response => response.json())
  .then(json => console.log(json))
    });

    $('#btn4').click(function(result){
      fetch('https://jsonplaceholder.typicode.com/albums?userId=2')
  .then(response => response.json())
  .then(json => console.log(json))
    });

    $('#btn5').click(function (result) {
      var url = 'https://jsonplaceholder.typicode.com/photos?albumId=3';
      fetch(url, { method: 'get' })
        .then(res => res.json())
        .then(response => {
          console.log('Success:', response[0])
          let resultados=document.querySelectorAll('#result');
          var div = document.createElement("div"); 
          var p = document.createTextNode("Nome de albums->"+response[0].title); 
          var img = document.createElement("img");
          img.setAttribute('href',response[0].url);
          div.appendChild(p)
          div.appendChild(img)
          resultados[0].append(div)
        })
        .catch(error => console.error('Error:', error));
    });

    $('#btn6').click(function (result) {
      var url = 'https://jsonplaceholder.typicode.com/photos?albumId=4';
      fetch(url, { method: 'get' })
        .then(res => res.json())
        .then(response => {
          console.log('Success:', response[0])
          let resultados=document.querySelectorAll('#result');
          var div = document.createElement("div"); 
          var id = document.createTextNode("ID Das fotos->"+response[0].id); 
          var title = document.createTextNode("Title->")+title;
          div.appendChild(id)
          div.appendChild(title)
          resultados[0].append(div)
        })
        .catch(error => console.error('Error:', error));
    });



    
    


  </script>
</body>
</html>